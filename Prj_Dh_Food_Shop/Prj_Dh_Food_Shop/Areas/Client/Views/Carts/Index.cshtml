@model List<Prj_Dh_Food_Shop.Areas.Client.CartItem>
@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Client/Views/Shared/_LayoutClient.cshtml";
}

<link rel="stylesheet" href="~/Areas/Content/Css/vendor.css" />
<link rel="stylesheet" href="~/Areas/Content/Css/style.css" />
<link rel="Stylesheet" type="text/css" href="~/Areas/Content/Css/n-custom.css" />
<script type="text/javascript" src="~/Areas/Scripts/jquery.min.1.11.3.js"></script>
<script type="text/javascript" src="~/Areas/Scripts/bootstrap.min.js"></script>

<head>
    <style type="text/css">

        .menuTab ul li a, .productCart a, .info-contact .view-map-contact a, .info-contact .view-map-contact a:before, .form-contact button {
            border-radius: 5px;
        }

        div#vnt-footer > .mainFoot .grid .col:nth-child(3), div#vnt-footer > .mainFoot .grid .col:nth-child(4) {
            margin-bottom: 25px;
        }

        .item > .productCat .tend {
            min-height: 75px;
        }

            .item > .productCat .tend h3 {
                font-size: 27px;
                line-height: 35px;
                white-space: normal;
            }

        .breadcrumb ul li:first-child {
            display: none;
        }

        .breadcrumb ul li:nth-child(2) {
            margin-left: 0;
        }

        .col-lg-6.col-md-6.col-sm-12.col-xs-12 > .productDes {
            font-size: 18px;
            line-height: 26px;
        }

        .item > .productCat .tend h3, .col-lg-4.col-md-4.col-sm-6.col-xs-6 > .product .tend a, .item > .product .tend a, .col-lg-6.col-md-6.col-sm-12.col-xs-12 > .productTitle h1, .col-lg-6.col-md-6.col-sm-12.col-xs-12 > .productTitle h2, .col > .productCat .tend h3 {
            text-transform: none;
        }

        .col-lg-4.col-md-4.col-sm-6.col-xs-6 > .product .tend a {
            font-size: 24px;
            line-height: 32px;
        }

        .productDes > ol, .productDes > ul {
            list-style: disc !important;
            margin-top: 0;
            margin-bottom: 10px;
            padding-inline-start: 40px;
        }

        .info-contact .view-map-contact a span {
            padding-top: 1px;
        }

        .col-lg-4.col-md-4.col-sm-6.col-xs-12 > .recruit .tend h3 {
            height: auto;
        }

        .recruit .des {
            padding-top: 25px;
        }

        .recruit:hover .des {
            padding-top: 0px;
        }
        /*khảng cách tiêu đề bài viết*/
        .wrapConts .box_mid .mid-title .titleL {
            margin-top: 30px
        }

        .productWrap_c {
            margin-top: 30px;
        }

        div#vnt-slide .img {
            padding-top: 5% !important;
        }
    </style>

    <style type="text/css">
        .bx-bct {
            display: flex;
        }
    </style>


</head>

<!-- catg header banner section -->
<div id="vnt-wrapper">
    <div id="vnt-container">
        <div id="vnt-content">
            <div class="vnt-main-top">
                <div id="vnt-slide" class="slick-init">
                    <div class="item">
                        <div class="img">
                            <img src="https://dhfoods.com.vn/vnt_upload/weblink/__Banner_dai_De_dang_mua_sam_san_pham_Dh_Foods.jpg" />
                        </div>
                    </div>
                </div>
                <div id="vnt-navation" class="breadcrumb" style="padding-bottom: 2%; background-color: #1b5633">
                </div>
            </div>

            <div id="vnt-background" class="bg bgp">
                <div class="wrapConts">
                    <div class="">
                        <div class="box_mid v2">
                            <div class="mid-title" style="color: #1b5633;">
                                <div class="titleL white"><h1 style="color: #1b5633;">Giỏ hàng</h1></div>
                                <div class="titleR"></div>
                                <div class="clear"></div>
                            </div>
                            <section id="cart-view">
                                <div class="container">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="cart-view-area">
                                                @if (Model == null)
                                                {
                                                    <p class="alert alert-info">
                                                        Bạn chưa có sản phẩm nào trong giỏ hàng!
                                                    </p>
                                                }
                                                else
                                                {
                                                    <div class="cart-view-table">
                                                        <div class="table-responsive">
                                                            <table class="table">
                                                                <thead>
                                                                    <tr>
                                                                        <th></th>
                                                                        <th>Sản phẩm</th>
                                                                        <th>Giá</th>
                                                                        <th>Số lượng</th>
                                                                        <th>Tổng</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    @foreach (var item in Model)
                                                                    {
                                                                        <tr>
                                                                            <td id="row_" + @item.Product.id>
                                                                                <button class="remove" onclick="RemoveItem(@item.Product.id)">
                                                                                    <fa class="fa fa-close"></fa>
                                                                                </button>
                                                                            </td>
                                                                            <td>
                                                                                <a class="aa-cart-title" href="#">
                                                                                    @item.Product.name
                                                                                </a>
                                                                            </td>
                                                                            <td>
                                                                                <span>
                                                                                    @(string.Format("{0:#,0.#############################}", item.Product.price))<span> vnd</span>
                                                                                </span>

                                                                            </td>
                                                                            <td>
                                                                                <input class="aa-cart-quantity" id="@item.Product.id" type="number" value="@item.Quantity"
                                                                                       onchange="ChangeQuantity(@item.Product.id)">
                                                                            </td>
                                                                            <td class="@item.Product.id">
                                                                                @((item.Product.price * item.Quantity).ToString("#,##")) VNĐ
                                                                            </td>
                                                                        </tr>
                                                                    }
                                                                </tbody>
                                                                <tfoot>
                                                                    <tr class="d-none d-md-table-row total-final">
                                                                        <td rowspan="1" colspan="1">
                                                                            <b class="text-bold">Tổng tiền</b>
                                                                        </td>
                                                                        <td rowspan="1" colspan="1"></td>
                                                                        <td rowspan="1" colspan="1"></td>
                                                                        <td rowspan="1" colspan="1"></td>
                                                                        <td class="text" rowspan="1" colspan="1">
                                                                            <b class="no-wrap text-bold"></b>
                                                                        </td>
                                                                        <td rowspan="1" colspan="1">&nbsp;</td>
                                                                    </tr>
                                                                </tfoot>
                                                            </table>
                                                        </div>
                                                    </div>
                                                    <button href="@Url.Action("CheckOut")" style="margin-bottom: 20px;margin-left: 44%;" type="submit" class="btn btn-primary theme-button mt-4">Thanh toán</button>
                                                }
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
<!-- / Cart view section -->
@*@section scripts{

    <script>
        function ChangeQuantity(productId) {
            var q = $("#" + productId).val();
            var quantity = Number(q);
            if (quantity <= 0) {
                alert("phải lớn hơn hoặc bằng 1");
                $("#" + productId).val(1);
                return;
            }
            $.ajax({
                type: "put",
                url: "/Cart/ChangQuantity",
                data: {
                    ProductId: productId,
                    Quantity: quantity
                },
                success: function (res) {
                    $("#TotalPrice").text(res.TotalPrices);
                    $("#TotalItems").text(res.TotalItems);
                    $("#total_item_cart").text(res.TotalItems);
                    $("." + productId).text(res.Prices)
                }
            })
        }

        function delImage(e) {
            $(e).parent('td').remove();
        }
    </script>

}*@

